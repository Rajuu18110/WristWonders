<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WatchWonders</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        .star-rating i {
            color: #f39c12;
        }
    </style>
</head>

<body>
    <!-- Navbar will be loaded here -->
    <nav class="navbar navbar-expand-lg sticky-top bg-body-tertiary" id="navbar"
        style="background-color: #000000 !important;">
    </nav>

    <!-- Responsive video section -->
    <div class="container-fluid p-0">
        <div class="ratio ratio-16x9">
            <video autoplay loop>
                <source src="./videos/firstRado.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
    </div>

    <!-- Welcome message -->
    <div class="container-fluid p-0">
        <div class="row m-md-5 p-md-5">
            <div class="col-md-4">
                <img src="./img/logo/black.png" class="img-fluid" alt="...">
            </div>
            <div class="col-md-8 p-5 p-md-0">
                <h1>Welcome to WristWonders</h1>
                <p>Discover the ultimate destination for all your watch desires. At WatchWorld, we bring you an
                    extensive collection of timepieces from the world's most renowned brands, all in one place. Whether
                    you're seeking the elegance of luxury watches, the durability of sports models, or the timeless
                    charm of classic designs, our curated selection has something for everyone.</p>

                <p>Explore our diverse range, find the perfect watch to suit your style, and experience the
                    craftsmanship and innovation that define each piece. Enjoy a seamless shopping experience with our
                    user-friendly interface, detailed product information, and exceptional customer service.</p>
                <p>Thank you for choosing WatchWorld. We're excited to help you find your next favorite watch!</p>
            </div>
        </div>
    </div>

    <!-- Top sell bar -->
    <div class="container-fluid p-4 bg-black">
        <div>
            <h1 class="text-center mb-5 text-white">
                Top Watches
            </h1>
        </div>
        <div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-5 p-md-3 pb-md-5 pb-5">
            <!-- Product cards will be dynamically injected here -->
        </div>
    </div>

    <!-- Video -->
    <div class="container-fluid">
        <div class="row align-items-center p-md-5">
            <div class="col-md-6 text-center text-md-left p-md-0 p-3">
                <h1>True Square X Kunihiko Morinaga Special Edition</h1>
                <p>MAKING THE INVISIBLE VISIBLE</p>
                <hr class="my-4">
                <a href="./productView.html?name=R005" class="btn btn-dark">Discover more</a>
            </div>
            <div class="col-md-6 px-2">
                <video autoplay loop class="img-fluid">
                    <source src="./videos/makeRado.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </div>


    <!--testimonial-->
    <div class="container-fluid p-4 testimonial bg-black">
        <div>
            <h1 class="text-center mb-5 text-white">
                Testimonial
            </h1>
        </div>
        <div class="row mx-auto my-auto justify-content-center">
            <div id="testislide" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner testi" role="">
                    <div class="carousel-item testislide active" data-bs-interval="2000">
                        <div class="col-md-4 p-0 p-md-3">
                            <div class="testiborder bg-light p-3 card h-100">
                                <div class="card-body mb-2">
                                    <p class="card-text">Absolutely love this watch! The quality is outstanding and it
                                        looks fantastic.</p>
                                </div>
                                <div class="d-flex align-items-center">
                                    <img src="./img/logo/user1.png" class="m-1 rounded-circle" alt="...">
                                    <h5 class="card-title ps-2">Dhaval Kutar</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item testislide" data-bs-interval="2000">
                        <div class="col-md-4 p-0 p-md-3">
                            <div class="testiborder bg-light p-3 card h-100">
                                <div class="card-body mb-2">
                                    <p class="card-text">Great value for money. It’s exactly what I was looking for.</p>
                                </div>
                                <div class="d-flex align-items-center">
                                    <img src="./img/logo/user1.png" class="m-1 rounded-circle" alt="...">
                                    <h5 class="card-title ps-2">Preksha Mehta</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item testislide" data-bs-interval="2000">
                        <div class="col-md-4 p-0 p-md-3">
                            <div class="testiborder bg-light p-3 card h-100">
                                <div class="card-body mb-2">
                                    <p class="card-text">The watch exceeded my expectations. Highly recommend it to
                                        everyone!</p>
                                </div>
                                <div class="d-flex align-items-center">
                                    <img src="./img/logo/user1.png" class="m-1 rounded-circle" alt="...">
                                    <h5 class="card-title ps-2">Fenil Patel</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item testislide" data-bs-interval="2000">
                        <div class="col-md-4 p-0 p-md-3">
                            <div class="testiborder bg-light p-3 card h-100">
                                <div class="card-body mb-2">
                                    <p class="card-text">Elegant design and precise timekeeping. I’m very pleased with
                                        my purchase.</p>
                                </div>
                                <div class="d-flex align-items-center">
                                    <img src="./img/logo/user1.png" class="m-1 rounded-circle" alt="...">
                                    <h5 class="card-title ps-2">Nirlep Tamboli</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item testislide" data-bs-interval="2000">
                        <div class="col-md-4 p-0 p-md-3">
                            <div class="testiborder bg-light p-3 card h-100">
                                <div class="card-body mb-2">
                                    <p class="card-text">Exceptional customer service and a beautiful watch. Worth every
                                        cent.</p>
                                </div>
                                <div class="d-flex align-items-center">
                                    <img src="./img/logo/user1.png" class="m-1 rounded-circle" alt="...">
                                    <h5 class="card-title ps-2">Rutu Patel</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item testislide" data-bs-interval="2000">
                        <div class="col-md-4 p-0 p-md-3">
                            <div class="testiborder bg-light p-3 card h-100">
                                <div class="card-body mb-2">
                                    <p class="card-text">Stylish and durable. I get compliments on it all the time.</p>
                                </div>
                                <div class="d-flex align-items-center">
                                    <img src="./img/logo/user1.png" class="m-1 rounded-circle" alt="...">
                                    <h5 class="card-title ps-2">Ayush Patel</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-end" style="height: 3rem;">
                <div class="col-4 col-md-2">
                    <a href="#testislide" role="button" data-bs-slide="prev"><i
                            class="bi bi-arrow-left-circle text-white" style="font-size: 1.6rem;"></i></a>
                    <a href="#testislide" role="button" data-bs-slide="next"><i
                            class="bi bi-arrow-right-circle text-white" style="font-size: 1.6rem;"></i></a>
                </div>
            </div>
        </div>
    </div>

    <!-- Achievements -->
    <div class="container-fluid p-5">
        <div>
            <h1 class="text-center mb-5">
                What WristWonders have?
            </h1>
        </div>
        <div class="row row-cols-1 row-cols-md-4 g-4 px-md-5 px-3">
            <div class="col-md-3">
                <img src="./img/logo/customers.png" class="mx-auto d-block" alt="" srcset="">
                <h3 class="text-center mt-3">12000+</h3>
                <h5 class="text-center">Happy Customer</h5>
            </div>
            <div class="col-md-3">
                <img src="./img/logo/cars.png" class="mx-auto d-block" alt="" srcset="">
                <h3 class="text-center mt-3">179+</h3>
                <h5 class="text-center">Total Watches</h5>
            </div>
            <div class="col-md-3">
                <img src="./img/logo/awards.png" class="mx-auto d-block" alt="" srcset="">
                <h3 class="text-center mt-3">16+</h3>
                <h5 class="text-center">Awards</h5>
            </div>
            <div class="col-md-3">
                <img src="./img/logo/experience.png" class="mx-auto d-block" alt="" srcset="">
                <h3 class="text-center mt-3">6+</h3>
                <h5 class="text-center">years of experience</h5>
            </div>
        </div>
    </div>

    <!-- footer -->
    <footer class="footer px-5 py-3 bg-black" id="footer">
        <!-- <div class="row m-0">
            <div class="col-md-3 p-4">
                <h3 class="text-white fw-bold">Dial Type</h3>
                <a href="http://" class="text-white footlink"><i
                        class="bi bi-watch text-white me-2"></i>Automatic</a><br>
                <a href="http://" class="text-white footlink"><i class="bi bi-watch text-white me-2"></i>Quartz</a><br>
                <a href="http://" class="text-white footlink"><i
                        class="bi bi-watch text-white me-2"></i>Chronograph</a><br>
                <a href="http://" class="text-white footlink"><i class="bi bi-watch text-white me-2"></i>Diver</a><br>
                <a href="http://" class="text-white footlink"><i
                        class="bi bi-watch text-white me-2"></i>Smartwatch</a><br>
            </div>
            <div class="col-md-3 p-4">
                <h3 class="text-white fw-bold">Vehicle Company</h3>
                <a href="http://" class="text-white footlink"><i class="bi bi-watch text-white me-2"></i>Rado</a><br>
                <a href="http://" class="text-white footlink"><i class="bi bi-watch text-white me-2"></i>Citizen</a><br>
                <a href="http://" class="text-white footlink"><i class="bi bi-watch text-white me-2"></i>Fossil</a><br>
                <a href="http://" class="text-white footlink"><i class="bi bi-watch text-white me-2"></i>Armani Exchange</a><br>
                <a href="http://" class="text-white footlink"><i class="bi bi-watch text-white me-2"></i>Omega</a><br>
            </div>
            <div class="col-md-3 p-4">
                <h3 class="text-white fw-bold">Company</h3>
                <a href="http://" class="text-white footlink"><i
                        class="bi bi-watch text-white me-2"></i>Term&Condition</a><br>
                <a href="http://" class="text-white footlink"><i class="bi bi-watch text-white me-2"></i>Private
                    policy</a><br>
                <a href="http://" class="text-white footlink"><i class="bi bi-watch text-white me-2"></i>Booking
                    procedure</a><br>
            </div>
            <div class="col-md-3 p-4">
                <h3 class="text-white fw-bold">Contact</h3>
                <a href="http://" class="text-white footlink me-2"><i class="bi bi-facebook"
                        style="font-size: 1.6rem;"></i></a>
                <a href="http://" class="text-white footlink me-2"><i class="bi bi-whatsapp"
                        style="font-size: 1.6rem;"></i></a>
                <a href="http://" class="text-white footlink me-2"><i class="bi bi-envelope"
                        style="font-size: 1.6rem;"></i></a>
            </div>
        </div>
        <hr style="color: var(--bg-text-white)">
        <div class="row p-0">
            <div class="col-6 ps-4">
                <p class="text-white ">©WristWonders, all rights reserved.</p>
            </div>
            <div class="col-6 align-self-end">
                <p class="text-white ">Distributed By, Gujjus</p>
            </div>
        </div> -->
    </footer>

    <!-- Scripts at the end of body for better performance -->
    <script src="./js/bootstrap.bundle.min.js"></script>
    <script src="./js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const productList = document.querySelector('.container-fluid.bg-black .row');

            // Function to load products from JSON
            async function loadProducts() {
                try {
                    const response = await fetch('./js/watches_catalog.json');
                    const data = await response.json();
                    return data.products.filter(product => product.topShow && product.gender === 'men');
                } catch (error) {
                    console.error('Error loading products:', error);
                    return [];
                }
            }

            // Function to create a product card
            function createProductCard(product) {
                const hasDiscount = product.discount > 0;
                const discountedPrice = product.price - (product.price * (product.discount / 100));
                const productUrl = `./productView.html?name=${encodeURIComponent(product.product_id)}`;

                return `
                    <div class="col">
                        <div class="card h-100">
                            <img src="${product.image_url}" class="card-img-top img1 p-2" data-url="${productUrl}" alt="Product image" style="display: block;">
                            <img src="${product.sideImg_url}" class="card-img-top img2 p-2" data-url="${productUrl}" alt="Product side image" style="display: none;">
                            <div class="card-body">
                                <h5 class="card-title" data-url="${productUrl}">${product.name}</h5>
                                ${hasDiscount ? `
                                        <h6>Price: <span class="text-muted"><s>$${product.price.toFixed(2)}</s></span></h6>
                                        <h6>Discounted Price: $${discountedPrice.toFixed(2)}</h6>
                                    ` : `
                                        <h6>Price: $${product.price.toFixed(2)}</h6>
                                    `}
                                <div class="star-rating mb-2">
                                    ${Array.from({ length: 5 }, (_, index) => {
                    const isFull = index < Math.floor(product.rating);
                    const isHalf = index === Math.floor(product.rating) && (product.rating % 1) >= 0.5;
                    return `<i class="bi bi-star${isFull ? '-fill' : ''}${isHalf ? '-half' : ''}"></i>`;
                }).join('')}
                                    <span class="ms-2">(${product.numRatings} ratings)</span>
                                </div>
                            </div>
                            <div class="card-footer">
                                <button class="btn btn-primary add-to-cart" data-name="${product.name}" data-price="${product.price}" data-disPrice="${discountedPrice.toFixed(2)}" data-image="${product.image_url}">Add to Cart</button>
                            </div>
                        </div>
                    </div>
                `;
            }

            // Function to add item to cart
            function addToCart(name, price, disPrice, image) {
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                const existingItem = cart.find(item => item.name === name);

                if (existingItem) {
                    existingItem.quantity += 1; // Increment quantity if item already exists
                } else {
                    cart.push({ name, price, disPrice, image, quantity: 1 });
                }

                localStorage.setItem('cart', JSON.stringify(cart));
                alert('Item added to cart!');
            }

            // Function to add event listeners to "Add to Cart" buttons
            function addCartEventListeners() {
                const addToCartButtons = document.querySelectorAll('.add-to-cart');
                addToCartButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const name = button.getAttribute('data-name');
                        const price = parseFloat(button.getAttribute('data-price'));
                        const disPrice = parseFloat(button.getAttribute('data-disPrice'));
                        const image = button.getAttribute('data-image');
                        addToCart(name, price, disPrice, image);
                    });
                });
            }

            // Function to set up event listeners
            function setUpEventListeners() {
                // Add event listeners for product images and titles
                document.querySelectorAll('.card-img-top, .card-title').forEach(element => {
                    element.addEventListener('click', function () {
                        const productUrl = this.getAttribute('data-url');
                        if (productUrl) {
                            window.location.href = productUrl;
                        }
                    });
                });
            }

            // Function to render products
            function renderProducts(products) {
                productList.innerHTML = products.map(createProductCard).join('');
                addCartEventListeners(); // Add event listeners to the new buttons
                setUpEventListeners();

                // Add event listeners for mouse enter and leave on cards
                document.querySelectorAll('.card').forEach(card => {
                    const img1 = card.querySelector('.img1');
                    const img2 = card.querySelector('.img2');

                    card.addEventListener('mouseenter', () => {
                        img1.style.display = 'none';
                        img2.style.display = 'block';
                    });

                    card.addEventListener('mouseleave', () => {
                        img1.style.display = 'block';
                        img2.style.display = 'none';
                    });
                });
            }

            // Load and display products
            loadProducts().then(renderProducts);
        });
    </script>

</body>

</html>